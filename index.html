<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>guanaja · spawn</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: #0a0a0a;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            overflow: hidden;
            position: relative;
        }

        /* Contenedor principal */
        .spawn-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        /* Estilo de las palabras que spawnean */
        .spawn-word {
            position: absolute;
            font-size: clamp(24px, 6vw, 48px);
            font-weight: 500;
            text-transform: lowercase;
            white-space: nowrap;
            user-select: none;
            pointer-events: none;
            opacity: 0;
            animation: spawnAndFade 4s ease-out forwards;
            font-family: 'Inter', 'Helvetica Neue', sans-serif;
            letter-spacing: 1px;
            text-shadow: 0 0 20px currentColor;
        }

        /* Diferentes tonos morados */
        .spawn-word:nth-child(6n+1) { color: #9b59b6; }  /* Morado */
        .spawn-word:nth-child(6n+2) { color: #8e44ad; }  /* Morado oscuro */
        .spawn-word:nth-child(6n+3) { color: #c0399b; }  /* Fucsia/morado */
        .spawn-word:nth-child(6n+4) { color: #a569bd; }  /* Morado claro */
        .spawn-word:nth-child(6n+5) { color: #6c3483; }  /* Morado profundo */
        .spawn-word:nth-child(6n) { color: #d2b4de; }    /* Lavanda */

        /* Animación de spawn */
        @keyframes spawnAndFade {
            0% {
                opacity: 0;
                transform: scale(0.3) rotate(-10deg);
                filter: blur(10px);
            }
            15% {
                opacity: 1;
                transform: scale(1.2) rotate(5deg);
                filter: blur(0);
            }
            25% {
                transform: scale(1) rotate(0deg);
            }
            75% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
                filter: blur(0);
            }
            100% {
                opacity: 0;
                transform: scale(0.8) rotate(10deg);
                filter: blur(8px);
            }
        }

        /* Efecto de glow para cuando aparecen */
        .spawn-word::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, currentColor 0%, transparent 70%);
            opacity: 0.2;
            filter: blur(15px);
            z-index: -1;
            animation: glowPulse 2s ease-in-out infinite;
        }

        @keyframes glowPulse {
            0%, 100% { opacity: 0.1; }
            50% { opacity: 0.3; }
        }

        /* Fondo con partículas moradas muy sutiles */
        .bg-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: radial-gradient(circle at 20% 30%, rgba(155, 89, 182, 0.1) 0%, transparent 30%),
                        radial-gradient(circle at 80% 70%, rgba(142, 68, 173, 0.1) 0%, transparent 40%),
                        radial-gradient(circle at 40% 80%, rgba(192, 57, 153, 0.1) 0%, transparent 30%),
                        radial-gradient(circle at 90% 20%, rgba(106, 52, 131, 0.1) 0%, transparent 40%);
            animation: bgShift 20s ease-in-out infinite;
        }

        @keyframes bgShift {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* Título super sutil */
        .subtle-title {
            position: fixed;
            bottom: 20px;
            left: 20px;
            color: rgba(255, 255, 255, 0.15);
            font-size: 12px;
            font-weight: 300;
            letter-spacing: 2px;
            z-index: 5;
            text-transform: lowercase;
            pointer-events: none;
        }

        /* Media query para móviles */
        @media (max-width: 768px) {
            .spawn-word {
                font-size: clamp(20px, 5vw, 36px);
            }
        }

        /* Optimización para rendimiento */
        @media (prefers-reduced-motion: reduce) {
            .spawn-word {
                animation: none;
                opacity: 0.5;
            }
        }
    </style>
</head>
<body>
    <!-- Fondo con partículas moradas -->
    <div class="bg-particles"></div>
    
    <!-- Contenedor donde aparecen las palabras -->
    <div class="spawn-container" id="spawnContainer"></div>
    
    <!-- Título sutil -->
    <div class="subtle-title">· guanaja ·</div>

    <script>
        (function() {
            const container = document.getElementById('spawnContainer');
            
            // Configuración
            const config = {
                minSpawnInterval: 400,     // Mínimo 400ms entre palabras
                maxSpawnInterval: 1200,    // Máximo 1200ms entre palabras
                maxWords: 30,               // Máximo de palabras simultáneas
                purpleShades: [
                    '#9b59b6', '#8e44ad', '#c0399b', 
                    '#a569bd', '#6c3483', '#d2b4de',
                    '#7d3c98', '#b066b0', '#9b5b9b'
                ]
            };

            // Contador de palabras activas
            let activeWords = 0;

            // Función para generar posición aleatoria (evitando bordes extremos)
            function getRandomPosition() {
                // 5% de margen en cada lado
                const margin = 5;
                return {
                    x: margin + Math.random() * (100 - 2 * margin),
                    y: margin + Math.random() * (100 - 2 * margin)
                };
            }

            // Función para crear una nueva palabra
            function spawnWord() {
                // Si ya tenemos muchas palabras, no spawnear más
                if (activeWords >= config.maxWords) {
                    scheduleNextSpawn(100); // Revisar en 100ms
                    return;
                }

                // Crear elemento
                const word = document.createElement('div');
                word.className = 'spawn-word';
                word.textContent = 'guanaja';
                
                // Posición aleatoria
                const pos = getRandomPosition();
                word.style.left = pos.x + '%';
                word.style.top = pos.y + '%';
                
                // Rotación aleatoria pequeña
                const rotation = (Math.random() - 0.5) * 30; // -15 a 15 grados
                word.style.transform = `rotate(${rotation}deg)`;
                
                // Tamaño ligeramente variable
                const sizeScale = 0.8 + Math.random() * 0.7; // 0.8 a 1.5
                word.style.fontSize = `clamp(20px, ${6 * sizeScale}vw, ${48 * sizeScale}px)`;
                
                // Color aleatorio de la lista (sobrescribe el nth-child)
                if (Math.random() > 0.5) {
                    const randomColor = config.purpleShades[Math.floor(Math.random() * config.purpleShades.length)];
                    word.style.color = randomColor;
                }
                
                // Incrementar contador de palabras activas
                activeWords++;
                
                // Añadir al DOM
                container.appendChild(word);
                
                // Eliminar la palabra cuando termine la animación
                word.addEventListener('animationend', () => {
                    word.remove();
                    activeWords--;
                });

                // Programar siguiente spawn
                scheduleNextSpawn();
            }

            // Programar siguiente spawn con intervalo aleatorio
            function scheduleNextSpawn(forcedInterval = null) {
                const interval = forcedInterval !== null ? forcedInterval : 
                    config.minSpawnInterval + Math.random() * (config.maxSpawnInterval - config.minSpawnInterval);
                
                setTimeout(spawnWord, interval);
            }

            // Iniciar el primer spawn después de un pequeño retraso
            setTimeout(() => {
                // Spawnear algunas palabras iniciales
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => spawnWord(), i * 300);
                }
            }, 500);

            // Opcional: spawnear palabras al hacer clic/tap (para móviles)
            document.addEventListener('click', (e) => {
                // Crear una palabra en la posición del clic
                if (activeWords < config.maxWords) {
                    const word = document.createElement('div');
                    word.className = 'spawn-word';
                    word.textContent = 'guanaja';
                    
                    // Convertir coordenadas del clic a porcentajes
                    const x = (e.clientX / window.innerWidth) * 100;
                    const y = (e.clientY / window.innerHeight) * 100;
                    
                    word.style.left = x + '%';
                    word.style.top = y + '%';
                    
                    // Efecto especial para clics
                    word.style.animation = 'spawnAndFade 3s ease-out forwards';
                    word.style.color = config.purpleShades[Math.floor(Math.random() * config.purpleShades.length)];
                    word.style.fontSize = 'clamp(28px, 7vw, 56px)';
                    word.style.textShadow = '0 0 30px currentColor';
                    
                    activeWords++;
                    container.appendChild(word);
                    
                    word.addEventListener('animationend', () => {
                        word.remove();
                        activeWords--;
                    });
                }
            });

            // En móviles, también con touch
            document.addEventListener('touchstart', (e) => {
                e.preventDefault();
                if (activeWords < config.maxWords && e.touches[0]) {
                    const touch = e.touches[0];
                    const word = document.createElement('div');
                    word.className = 'spawn-word';
                    word.textContent = 'guanaja';
                    
                    const x = (touch.clientX / window.innerWidth) * 100;
                    const y = (touch.clientY / window.innerHeight) * 100;
                    
                    word.style.left = x + '%';
                    word.style.top = y + '%';
                    word.style.animation = 'spawnAndFade 3s ease-out forwards';
                    word.style.color = config.purpleShades[Math.floor(Math.random() * config.purpleShades.length)];
                    
                    activeWords++;
                    container.appendChild(word);
                    
                    word.addEventListener('animationend', () => {
                        word.remove();
                        activeWords--;
                    });
                }
            });

            // Limpiar palabras al cambiar tamaño (opcional)
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    // No hacemos nada, las palabras se reposicionan solas
                }, 150);
            });

        })();
    </script>
</body>
</html>